generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model users {
  user_id    String  @id @default(uuid())
  user_email String  @unique
  created    DateTime @default(now())
  fn         String
  mn         String?
  sn         String
  role_id    Int
  role       role    @relation(fields: [role_id], references: [id])
  auth       auth?
  enrol      enrol[]
}

model auth {
  user_id      String  @id
  pwd_hash     String
  pwd_salt     String
  last_updated DateTime @default(now())
  user         users   @relation(fields: [user_id], references: [user_id])
}

model role {
  id    Int     @id @default(autoincrement())
  name  String  @unique
  users users[]
}

model courses {
  course_id   String  @id @default(uuid())
  course_name String
  course_desc String
  enrol       enrol[]
}

model enrol {
  enrol_id    String  @id @default(uuid())
  user_id     String
  course_id   String
  enrolled_at DateTime @default(now())
  user        users   @relation(fields: [user_id], references: [user_id])
  course      courses @relation(fields: [course_id], references: [course_id])
}